!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){!function(){"use strict";var t=e("./routes/routes"),n={init:function(){t.init()}};n.init()}()},{"./routes/routes":7}],2:[function(e,t,n){var r=e("./html-elements"),o={nextSong:function(e){var t=e,n=0,o=0,i=window.location.hash.slice(5),a=(_.find(t,function(e){n++,e.id==i&&(n--,o=n)}),new Hammer(r.main));a.on("swipeleft",function(){if(e){o++;var t=e[o].id;window.location.hash="/:id"+t}r.main.classList.add("left"),setTimeout(function(){r.main.classList.remove("left")},300)}),a.on("swiperight",function(){if(e){o--;var t=e[o].id;window.location.hash="/:id"+t}r.main.classList.add("right"),setTimeout(function(){r.main.classList.remove("right")},300)})}};t.exports=o},{"./html-elements":3}],3:[function(e,t,n){var r={main:document.querySelector("main"),songs:document.querySelector("#songs"),searchform:document.querySelector("#search"),error:document.querySelector("#error"),loading:document.querySelector("#loading"),detail:document.querySelector("#detail"),songDetail:document.querySelector(".song-detail"),searchSongs:document.querySelector("#search-songs")};t.exports=r},{}],4:[function(e,t,n){var r=e("./html-elements"),o=e("./soundcloud"),i=e("../view/template"),a={action:function(){i.render(null,r.searchform.innerHTML);var e=document.querySelector("#submit");e.onclick=function(){var e=document.querySelector("#song").value.toLowerCase();o.getData(e,"search-songs")}}};t.exports=a},{"../view/template":8,"./html-elements":3,"./soundcloud":5}],5:[function(e,t,n){var r=e("./html-elements"),o=e("../view/template"),i=e("./spinner"),a={request:function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.onloadstart=function(){i.start()},r.onloadend=function(e){var n=r.response;t(n)},r.onerror=n,r.open("GET",e,!0),r.send()})},getData:function(e,t){var n={BaseUrl:"https://api.soundcloud.com",id:"client_id=2fda30f3c5a939525422f47c385564ae",tracks:"tracks?",users:"users?client_id=2fda30f3c5a939525422f47c385564ae",limit:"limit=100"};if(e)var i=n.BaseUrl+"/"+n.tracks+n.id+"&q=="+e+"&"+n.limit;else var i=n.BaseUrl+"/"+n.tracks+n.id+"&"+n.limit;this.request(i).then(function(e){window.rawData=JSON.parse(e);var n=JSON.stringify(window.rawData);if(localStorage.setItem("localData",n),window.rawData.length)"search-songs"==t?o.render(window.rawData,r.searchSongs.innerHTML):o.render(window.rawData,r.songs.innerHTML);else{var i={title:"Sorry,",message:"no Search results"};o.render(i,r.error.innerHTML)}})["catch"](function(e){console.dir(e);var t={title:"Sorry, unable to make a connection with SoundCloud"};o.render(t,r.error.innerHTML)})}};t.exports=a},{"../view/template":8,"./html-elements":3,"./spinner":6}],6:[function(e,t,n){var r=e("./html-elements"),o=e("../view/template"),i={start:function(){o.render(null,r.loading.innerHTML)}};t.exports=i},{"../view/template":8,"./html-elements":3}],7:[function(e,t,n){var r=e("../modules/html-elements"),o=e("../modules/search"),i=e("../modules/soundcloud"),a=e("../view/template"),s={init:function(){routie({"":function(){routie("search")},search:function(){o.action()},latest:function(){i.getData()},"/:id":function(){a.showDetail(window.rawData)},"*":function(){var e={title:"404",message:"Sorry page not found"};a.render(e,r.error.innerHTML)}})}};t.exports=s},{"../modules/html-elements":3,"../modules/search":4,"../modules/soundcloud":5,"../view/template":8}],8:[function(e,t,n){var r=e("../modules/html-elements"),o=e("../modules/gesture"),i={render:function(e,t){var n=Handlebars.compile(t),o=n(e);r.main.innerHTML=o,this.detail()},detail:function(){var e=document.querySelectorAll(".songs");e.length&&Array.prototype.forEach.call(e,function(e){function t(){var e=this.id;window.location.hash="/:id"+e}e.addEventListener("click",t,!0)})},showDetail:function(e){if(e)var t=e;else if(localStorage.length)var n=localStorage.getItem("localData"),t=JSON.parse(n);var a=[],s=window.location.hash.slice(5);_.filter(t,function(e){e.id==s&&a.push(e)}),i.render(a[0],r.detail.innerHTML),o.nextSong(t)}};t.exports=i},{"../modules/gesture":2,"../modules/html-elements":3}]},{},[1]);